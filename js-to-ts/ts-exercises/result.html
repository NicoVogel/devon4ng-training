<!DOCTYPE html>
<html>
<body>
  <script src="./base/jasmine.min.js"></script>
  <script src="./base/jasmine-html.min.js"></script>
  <script src="./base/boot.min.js"></script>
  <link rel="stylesheet" href="./base/jasmine.min.css">
  <script src="./exercises.js"></script>
  <script>
  describe('createArray', () => {
    it ('creates [123, 456] for 123 and 456', () => {
      expect(createArray(123, 456)).toEqual([123, 456]);
    });

    it ('creates [\'otto\', \'karl\'] for otto and karl', () => {
      expect(createArray('otto', 'karl')).toEqual(['otto', 'karl']);
    });
  });
  
  describe('createObject', () => {
    it ('creates {name: \'otto\'} for otto', () => {
      expect(createObject('otto')).toEqual({name: 'otto'});
    });

    it ('creates creates {name: \'karl\', age: 7} for karl and 7', () => {
      expect(createObject('karl', 7)).toEqual({name: 'karl', age: 7});
    });

    
    it ('creates creates {name: \'heinz\', age: 0} for heinz and 0', () => {
      expect(createObject('heinz', 0)).toEqual({name: 'heinz', age: 0});
    });
  });

  describe('findLongestWordFunc', () => {
    
    it('finds there', () => {
      expect(findLongestWordFunc('Are we there yet')).toBe('there');
    });

    it('finds Guillaume', () => {
      expect(findLongestWordFunc('Guillaume likes ice cream a lot more than you might think')).toBe('Guillaume');
    })

  });

  describe('getElementsGreater', () => {
    
    it('filters 0,9 to 9', () => {
      expect(getElementsGreater([0,9], 5)).toEqual([9]);
    });

    it('filters 2,0,3 to 3', () => {
      expect(getElementsGreater([2,0,3], 2)).toEqual([3]);
    })

  });

  describe('sort', () => {
    class ComparableItem {
      constructor(value) {
        this.value = value;
      }

      compare(other){
        if(other.value > this.value) {
          return -1;
        }
        if(other.value < this.value) {
          return 1;
        }
        return 0;
      }

      toString() {
        return this.value;
      }
    }

    it('orders 103, 5, 3, 15, -3 to -3, 3, 5, 15, 103', () => {
      const given=[new ComparableItem(103), new ComparableItem(5), new ComparableItem(3), new ComparableItem(15), new ComparableItem(-3)];
      // const expected=[given[4], given[2], given[1], given[3], given[0]];
      const expected=[new ComparableItem(-3), new ComparableItem(3), new ComparableItem(5), new ComparableItem(15), new ComparableItem(103)];;
      expect(sort(given)).toEqual(expected);
    });

    it('orders qwer, asdf, yxcv, aadf in decending order', () => {
      const given=[new ComparableItem('qwer'), new ComparableItem('asdf'), new ComparableItem('yxcv'), new ComparableItem('aadf')];
      const expected=[given[2], given[0], given[1], given[3]];
      expect(sort(given, false)).toEqual(expected);
    })

  });

  describe('reverseFunc', () => {
    
    it('reverses 1234 to 4321', () => {
      expect(reverseFunc(1234)).toBe(4321);
    });

    it('reverses 364 to 463', () => {
      expect(reverseFunc(364)).toBe(463);
    })

  });

  describe('parseAndBuild', () => {
        
    it('parses single object', () => {
      const json = '[{ "color": "red", "isNew": true }]'
      const expected = {
        red: {
          count: 1,
          allNew: true
        }
      };

      const actual = parseAndBuild(json);
      
      expect(actual).toEqual(expected);
    });

    it('parses multiple objects', () => {
      const json = '[{ "color": "blue", "isNew": true },{ "color": "blue", "isNew": false },{ "color": "red", "isNew": true }]'
      const expected = {
        blue: {
          count: 2,
          allNew: false
        },
        red: {
          count: 1,
          allNew: true
        }
      };

      const actual = parseAndBuild(json);
      
      expect(actual).toEqual(expected);
    })

  });
  </script>
</body>
</html>
